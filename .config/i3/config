set_from_resource $fg i3wm.color7 #f0f0f0
set_from_resource $bg i3wm.color2 #f0f0f0
set_from_resource $focused i3wm.color7 #f0f0f0

# class                 border  backgr. text indicator child_border
client.focused_inactive $bg     $bg     $fg  $bg       $bg
client.unfocused        $bg     $bg     $fg  $bg       $bg
client.urgent           $bg     $bg     $fg  $bg       $bg
client.placeholder      $bg     $bg     $fg  $bg       $bg
client.focused          $focused $focused $fg $focused $focused
client.background       $bg

for_window [class="^.*"] border pixel 2
                          # without pywal
                          # class                 border      backgr. text    indicator child_border
# for_window [class="^.*"] client.focused           i3wm.colors.primary #285577 #ffffff #2e9ef4   #285577

for_window [instance="dropdown"] floating enable
for_window [instance="dropdown"] move scratchpad 

# Please see http://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod1
# set $mod Mod4


# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

bindsym $mod+Return exec i3-sensible-terminal 

bindsym $mod+q kill

bindsym $mod+d exec dmenu_run -nb "$fg" -nf "$bg" -sb "$bg" -sf "$fg" -l 10

# without pywal
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus right 
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus left 

# move focused window
bindsym $mod+shift+h move left
bindsym $mod+shift+j move down
bindsym $mod+shift+k move up
bindsym $mod+shift+l move right

# split in horizontal orientation
bindsym $mod+z split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
# bindsym $mod+s layout stacking
# bindsym $mod+w layout tabbed
# bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+y floating toggle

# focus the parent container
# bindsym $mod+a focus parent
# focus the child container
#bindsym $mod+d focus child

bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

## gaps

gaps inner 4
# gaps outer 2

# set $fm eDP-1
# set $sm HDMI-1

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        bindsym h resize shrink width 5 px or 5 ppt
        bindsym j resize grow height 5 px or 5 ppt
        bindsym k resize shrink height 5 px or 5 ppt
        bindsym l resize grow width 5 px or 5 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
# i3status
# bar {
#         status_command i3status 
#         tray_output primary
#         font pango:DejaVu Sans Mono 13
#         separator_symbol " | "
#         position top
#         # colors {
#         #     # statusline #0F0A01  
#         #     # statusline #CEECEE  
#         #     # separator #FEFEFE
#         # }
#         colors { # for pywal
#             background $bg
#             statusline $fg
#             separator $fg
#         }
# }

# ------------------------------------------
# CUSTOM KEYS START
# ------------------------------------------

# Make the currently focused window a scratchpad
bindsym $mod+Shift+minus move scratchpad

# runing programs on startup and move them to scratchpad
for_window [instance="rmpc"] move scratchpad; [instance="rmpc"] scratchpad show; resize set height 300px; resize set width 900px; move window position center; move scratchpad;
exec --no-startup-id ghostty --x11-instance-name=rmpc -e rmpc 

for_window [instance="tasks"] move scratchpad
exec --no-startup-id ghostty --x11-instance-name=tasks -e tmux

bindsym $mod+t [instance="tasks"] scratchpad show
bindsym $mod+m [instance="rmpc"] scratchpad show; 

bindsym $mod+c exec i3-msg move window position center

# Show the first scratchpad window
bindsym $mod+minus scratchpad show

bindsym $mod+s exec spotify
bindsym $mod+ctrl+p exec mon pc
bindsym $mod+ctrl+l exec mon lap
bindsym $mod+shift+d exec discord
bindsym $mod+b exec brave
bindsym $mod+n exec nitrogen
bindsym $mod+o exec obsidian
bindsym $mod+a exec anki
bindsym $mod+shift+f exec figma-linux
bindsym $mod+shift+p exec poweroff

# Suspend
bindsym $mod+shift+x exec i3lock --color=000000

# exec --no-startup-id nitrogen --restore
exec --no-startup-id xcompmgr
exec --no-startup-id brave
# change the layout of the keyboard
exec_always --no-startup-id key lap
exec --no-startup-id wal -ni $HOME/media/pictures/wal_best/a_girl_standing_on_a_road_with_trees_and_mountains_in_the_background.jpg; feh --bg-scale $HOME/media/pictures/wal_best/a_girl_standing_on_a_road_with_trees_and_mountains_in_the_background.jpg ;
exec --no-startup-id polybar rayzen
exec --no-startup-id mpd
exec --no-startup-id dunst

# Set default keyboard layout to English (us) and Arabic (ar)
exec_always --no-startup-id setxkbmap -layout us,ara -option 'grp:alt_space_toggle'

# FKeys
# Pulse Audio controls
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5% #increase sound volume
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5% #decrease sound volume
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle # mute sound
# # Sreen brightness controls
bindsym XF86MonBrightnessUp exec xbacklight -inc 20 # increase screen brightness
bindsym XF86MonBrightnessDown exec xbacklight -dec 20 # decrease screen brightness

assign [class="(?i)brave-browser"] 2
assign [class="(?i)obsidian"] 1
assign [class="(?i)spotify"] 8
assign [class="(?i)discord"] 10
assign [class="(?i)figma-linux"] 4
assign [class="(?i)Anki"] 4
assign [class="(?i)com.github.xournalpp.xournalpp"] 3

# mpc
bindsym Mod4+plus exec mpc volume +5
bindsym Mod4+minus exec mpc volume -5
bindsym Mod4+n exec mpc next
bindsym Mod4+p exec mpc prev
bindsym Mod4+f exec mpc seek +5
bindsym Mod4+b exec mpc seek -5
bindsym Mod4+space exec mpc toggle
